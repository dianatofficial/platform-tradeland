<a [routerLink]="['/blog', post().slug]" 
  class="block group"
  [class.p-3]="layout() === 'compact'"
  [class.transition-colors]="layout() === 'compact'"
  [class.hover:bg-gray-50]="layout() === 'compact'"
  [class.rounded-lg]="layout() === 'compact'"
>
  @if (layout() === 'list') {
    <article class="ios-card flex flex-col md:flex-row gap-6 p-5 overflow-hidden">
      <div class="w-full md:w-72 h-48 rounded-lg overflow-hidden flex-shrink-0">
        <img class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out" [src]="post().imageUrl" [alt]="post().title">
      </div>
      <div class="flex-1">
        <span class="text-sm font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">{{ post().category }}</span>
        <h2 class="mt-3 text-xl font-bold text-gray-800 group-hover:text-blue-700 transition-colors">{{ post().title }}</h2>
        <p class="mt-2 text-gray-600 text-sm leading-relaxed">{{ post().excerpt }}</p>
        <div class="mt-4 flex items-center text-xs text-gray-500">
            <span>توسط {{ post().author }}</span>
            <span class="mx-2">&bull;</span>
            <span>{{ post().date }}</span>
        </div>
      </div>
    </article>
  } @else { <!-- compact layout -->
    <article class="flex items-center gap-4">
      <img class="w-28 h-20 rounded-lg object-cover flex-shrink-0" [src]="post().imageUrl" [alt]="post().title">
      <div class="flex-1">
        <span class="text-xs font-semibold text-blue-600 bg-blue-100 px-2 py-1 rounded-full">{{ post().category }}</span>
        <h3 class="mt-2 text-md font-semibold text-gray-800 group-hover:text-blue-700 transition-colors">{{ post().title }}</h3>
      </div>
    </article>
  }
</a>